# 0 准备

## 软件与硬件

![k8s-arch](images/k8s-arch.png)

### 节点

- mn[01-03]: 提供 K8S 集群管理节点，至少 3 台以满足 HA。
- ln[01-02]: 提供 K8S 网络负载均衡服务，至少 2 台以满足 HA。
- sn[001-003]: 提供存储服务，至少 3 台以满足 HA。
- cn[001-002]：提供纯 CPU 计算负载。
- gn[001-003]：提供 GPU 计算负载。

> 集群最小集为 1 台机器。满足 HA 情况下，最小集为 3 台机器。其他功能节点根据集群大小均可以合并到 mn 节点中。

### 网络

- 所有节点至少 10Gb 以太内网互联
- 存储节点额外提供至少 10Gb 以太网互联进行数据复制，配置此网络可以极大提供存储性能
- 提供网络负载均衡节点至少 1Gb 接入互联网，如果不面向外部提供服务此网络可选。

> 可以根据具体业务和用户需求调整网络配置。

### 存储

- 至少 3 台各插入 1 块本地 SSD 存储服务器

> 如果有外置存储服务则可选，存储服务尽可能分离以避免潜在互相影响，如果条件有限可以复用 mn 节点作为存储服务器。

### 软件

- OS: ubuntu 22.04
- K8S: [k3s](https://k3s.io/) v1.29.4+k3s1
- Ceph: [ceph](https://docs.ceph.com/en/latest/releases/) v17.2.7

> 更多需求可以参考 [k3s requirements](https://docs.k3s.io/zh/installation/requirements)

## 所有节点初始化

###
